package com.rokid.wifi;

import android.R.integer;
import android.os.Handler;
import android.os.Looper;
import android.os.Message;

// ************************************
// * 1. handle wifi disconnect event  *
// * 2. driver APScanner run repeatly *
// ************************************
public class RKWifiMessageHandler extends Handler {
	public static final int MESSAGE_START_SCAN = 0;
	public static final int MESSAGE_STOP_SCAN = 1;
	public static final int MESSAGE_WIFI_CONNECT_TIMEOUT = 2;
	public static final int MESSAGE_WIFI_DISCONNECT = 3;
	public static final int MESSAGE_WIFI_DCONNECT = 4;

	private APScanner apScanner;
	private RKWifiManagerNative wifiManagerNative;

	public RKWifiMessageHandler(Looper looper, APScanner scanner, RKWifiManagerNative rkwifi) {
		super(looper);
		apScanner = scanner;
		wifiManagerNative = rkwifi;
	}

	public void handleMessage(Message msg) {
		switch(msg.what) {
			case MESSAGE_START_SCAN:
				apScanner.run();
				break;
			case MESSAGE_WIFI_CONNECT_TIMEOUT:
				wifiManagerNative.onConnectTimeout();
				break;
			case MESSAGE_WIFI_DISCONNECT:
				wifiManagerNative.onDisconnect();
				break;
		}
	}
}
