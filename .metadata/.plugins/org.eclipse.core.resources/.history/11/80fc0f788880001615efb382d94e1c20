package com.rokid.rkcommonlibrary.mediaplayer;

import android.text.TextUtils;

import java.io.FileDescriptor;

/**
 * Created by Bassam on 16/8/8.
 */
public class RKMediaDataBean {
    public static final int FILE_SOURCE_TYPE_ASSET = 1;
    public static final int FILE_SOURCE_TYPE_PATH = 2;
    public static final int FILE_SOURCE_TYPE_URL = 3;
    public static final int FILE_SOURCE_TYPE_FD = 4;
    public static final int FILE_SOURCE_TYPE_RAW = 5;
    private int fileSourceType = 0;//文件类型
    private String fileName;//文件名
    private int fileId;//文件资源ID
    private String filePath;//文件路径SD卡路径
    private String fileUrl;//文件的url路劲
    private FileDescriptor fd;//文件描述符
    private boolean isLoop = false;//是否是循环的

    public RKMediaDataBean(boolean isLoop) {
        this.isLoop = isLoop;
    }

    public String getFileName() {
        return fileName;
    }

    /**
     * 设置Asset资源文件名
     *
     * @param fileName
     */
    public void setAssetFileName(String fileName) {
        this.fileName = fileName;
        this.fileSourceType = FILE_SOURCE_TYPE_ASSET;
    }

    public String getFilePath() {
        return filePath;
    }

    /**
     * 设置资源文件路径 sd卡目录或者网络请求目录
     *
     * @param filePath
     */
    public void setFilePath(String filePath) {
        this.filePath = filePath;
        this.fileSourceType = FILE_SOURCE_TYPE_PATH;
    }

    public FileDescriptor getFd() {
        return fd;
    }

    /**
     * 设置文件描述符
     *
     * @param fd
     */
    public void setFd(FileDescriptor fd) {
        this.fd = fd;
        this.fileSourceType = FILE_SOURCE_TYPE_FD;
    }

    public int getFileId() {
        return fileId;
    }

    /**
     * 设置资源文件id,主要是在raw目录下的id
     *
     * @param fileId
     */
    public void setFileId(int fileId) {
        this.fileId = fileId;
        this.fileSourceType = FILE_SOURCE_TYPE_RAW;
    }

    public String getFileUrl() {
        return fileUrl;
    }

    /**
     * 设置网络远程的地址
     *
     * @param fileUrl
     */
    public void setFileUrl(String fileUrl) {
        this.fileUrl = fileUrl;
        this.fileSourceType = FILE_SOURCE_TYPE_URL;
    }


    public int getFileSourceType() {
        return fileSourceType;
    }

    public boolean isLoop() {
        return isLoop;
    }

    public void setLoop(boolean loop) {
        isLoop = loop;
    }

    public boolean checkData() {
        if (fileSourceType > 0 && fileSourceType <= 5) {
            if (fileSourceType == 1 && !TextUtils.isEmpty(fileName)) {
                return true;
            }
            if (fileSourceType == 2 && !TextUtils.isEmpty(filePath)) {
                return true;
            }
            if (fileSourceType == 3 && fd != null) {
                return true;
            }
            if (fileSourceType == 4 && fileId > 0) {
                return true;
            }
            if (fileSourceType == 5 && !TextUtils.isEmpty(fileUrl)) {
                return true;
            }
        }
        return false;

    }
}
