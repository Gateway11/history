package com.rokid.rkcommonlibrary.rksysapi;

import rokid.os.IRKPowerManager;

/**
 * Created by Bassam on 16/7/15.
 * RK识音控制
 */
public class RKVoiceRecognitionUtil {
    /**
     * 当前类的实例对象
     */
    private static RKVoiceRecognitionUtil instance;

    /**
     * 单例方法调用
     *
     * @return
     */
    public static RKVoiceRecognitionUtil getInstance() {
        if (instance == null) {
            synchronized (RKVoiceRecognitionUtil.class) {
                if (instance == null) {
                    instance = new RKVoiceRecognitionUtil();
                }
            }
        }
        return instance;
    }

    /**
     * 开启系统识音方法
     *
     * @return
     */
    public boolean openSirenStream() {
        return setSirenStreamSwitch(true);
    }

    /**
     * 关闭系统识音方法
     *
     * @return
     */
    public boolean closeSirenStream() {
        return setSirenStreamSwitch(false);
    }

    /**
     * 关闭系统识音方法
     *
     * @param isOpen
     * @return
     */
    private boolean setSirenStreamSwitch(boolean isOpen) {
        try {
            IRKPowerManager irkPowerManager = RKApiManager.getInstance()
                    .getmIRKPowerManager();
            if (irkPowerManager != null) {
                irkPowerManager.setSirenStreamSwitch(isOpen);
                return true;
            }
        } catch (Exception ex) {
            ex.printStackTrace();
        }
        return false;
    }

}

